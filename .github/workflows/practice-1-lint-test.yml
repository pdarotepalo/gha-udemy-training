name: "Practice 1: ğŸ—ï¸ Lint, Test, and Build"

on: 
  workflow_dispatch:
  push:
    paths-ignore:
      - ./github/**
    branches:
      - main

jobs:
  lint-test:
    name: ğŸ§¾ Lint and Test
    runs-on: ubuntu-latest
    steps:
      - name: ğŸšš Get latest code
        uses: actions/checkout@v4
      - name: âš™ï¸ Setup NodeJS
        uses: actions/setup-node@v4
        with:
          node-version: 18
      - name: â™»ï¸ Install dependencies
        working-directory: practice-1
        run: npm ci
      - name: âœ… Lint
        working-directory: practice-1
        run: npm run lint
      - name: ğŸ§ª Test
        working-directory: practice-1
        run: npm test

  build:
    name: ğŸš§ Build
    needs: lint-test
    runs-on: ubuntu-latest
    steps:
      - name: ğŸšš Get latest code
        uses: actions/checkout@v4
      - name: âš™ï¸ Setup NodeJS
        uses: actions/setup-node@v4
        with:
          node-version: 18
      - name: â™»ï¸ Install dependencies
        working-directory: practice-1
        run: npm ci
      - name: ğŸ”¨ Build
        working-directory: practice-1
        run: npm run build
